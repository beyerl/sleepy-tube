{"version":3,"file":"src_app_player_player_module_ts.js","mappings":"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,GAAU;QACf,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC;IAC9B,CAAC;CACF;;AAtBY,oBAAoB;IAHhC,yDAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,oBAAoB,CAsBhC;AAtBgC;;;;;;;;;;;;;;;;;;;ACNU;AACD;AACM;AACT;AAChC;AACP;AACA,gEAAgE,mDAAG,SAAS,sDAAO;AACnF;AACA,eAAe,mDAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,4DAAU;AACvB;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;;;;ACvB0C;AAC0B;AAC1B;AAC1C;AACO;AACP;AACA;AACA;AACA;AACA,oCAAoC,sDAAO;AAC3C;AACA;AACA,wCAAwC,sDAAI,gCAAgC,4EAAqB;AACjG;;;;;;;;;;;;;;;;;ACbqC;AACG;AACjC;AACP;AACA,QAAQ,qDAAS,WAAW,6CAAO;AACnC,QAAQ,qDAAS,KAAK,6CAAO;AAC7B;;;;;;;;;;;;;;;;ACN2C;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mDAAU;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACrCiG;AAC1F;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,+DAAc,oBAAoB,kEAAqB;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kEAAqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC7BqD;AACS;AACvD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,6DAAe;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AA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","sources":["./src/app/helpers/utils.ts","./src/app/message/message.component.ts","./src/app/message/message.module.ts","./src/app/pipes/minute-seconds.pipe.ts","./src/app/player/player-routing.module.ts","./src/app/player/player.module.ts","./src/app/player/player.page.ts","./src/app/services/key-value-store.service.ts","./node_modules/rxjs/_esm2015/internal/observable/fromEventPattern.js","./node_modules/rxjs/_esm2015/internal/operators/combineLatest.js","./node_modules/rxjs/_esm2015/internal/operators/publish.js","./node_modules/rxjs/_esm2015/internal/operators/skipWhile.js","./node_modules/rxjs/_esm2015/internal/operators/takeUntil.js","./node_modules/rxjs/_esm2015/internal/operators/withLatestFrom.js","./node_modules/@angular/youtube-player/fesm2015/youtube-player.mjs"],"sourcesContent":["export const isNil = (value: any) => {\r\n    return value === null || typeof value  == 'undefined'\r\n}","import { Component, OnInit, Input } from '@angular/core';\nimport { Message } from '../services/data.service';\n\n@Component({\n  selector: 'app-message',\n  templateUrl: './message.component.html',\n  styleUrls: ['./message.component.scss'],\n})\nexport class MessageComponent implements OnInit {\n  @Input() message: Message;\n\n  constructor() { }\n\n  ngOnInit() {}\n\n  isIos() {\n    const win = window as any;\n    return win && win.Ionic && win.Ionic.mode === 'ios';\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MessageComponent } from './message.component';\n\n@NgModule({\n  imports: [ CommonModule, FormsModule, IonicModule, RouterModule],\n  declarations: [MessageComponent],\n  exports: [MessageComponent]\n})\nexport class MessageComponentModule {}\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { isNil } from \"../helpers/utils\";\r\n\r\n@Pipe({\r\n    name: 'minuteSeconds'\r\n})\r\nexport class MinuteSecondsPipe implements PipeTransform {\r\n\r\n    transform(value: number): string {\r\n        if (isNil(value))\r\n            return \"\"\r\n\r\n        const minutes: number = Math.floor(value / 60);\r\n        const seconds = value - minutes * 60\r\n        const secondsString: string = seconds >= 10 ? seconds.toString() : \"0\" + seconds.toString()\r\n        return minutes + ':' + secondsString;\r\n    }\r\n}","import { HashLocationStrategy, LocationStrategy } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlayerPage } from './player.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlayerPage\n  }\n];\n\n@NgModule({\n  declarations: [],\n  imports: [RouterModule.forChild(routes)],\n  providers: [\n    { provide: LocationStrategy, useClass: HashLocationStrategy }\n  ],\n  exports: [RouterModule],\n})\nexport class PlayerPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\n\nimport { PlayerPage } from './player.page';\nimport { PlayerPageRoutingModule } from './player-routing.module';\nimport { MessageComponentModule } from '../message/message.module';\nimport { YouTubePlayerModule } from '@angular/youtube-player';\nimport { MinuteSecondsPipe } from '../pipes/minute-seconds.pipe';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MessageComponentModule,\n    PlayerPageRoutingModule,\n    YouTubePlayerModule\n  ],\n  declarations: [PlayerPage, MinuteSecondsPipe]\n})\nexport class PlayerPageModule { }\n","import { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\nimport { YouTubePlayer } from '@angular/youtube-player';\nimport { isNil } from '../helpers/utils';\nimport { DataService, Message } from '../services/data.service';\nimport { KeyValueStoreService } from '../services/key-value-store.service';\n\nlet apiLoaded = false;\n\n@Component({\n  selector: 'app-player',\n  templateUrl: 'player.page.html',\n  styleUrls: ['player.page.scss'],\n})\nexport class PlayerPage implements OnInit, AfterViewInit {\n  // constants\n  playerWidth: number = window.innerWidth\n  playerheight = 200\n  SKIP_TIME_IN_SECONDS = 30\n  SECONDS_PER_MINUTE = 60\n\n  // videoplayer\n  videoId: string\n  startSeconds: number\n  videoPlayerIntervalId: any //NodeJS.Timeout\n\n  // timer\n  timeout: number\n  timeoutIntervalId: any //NodeJS.Timeout\n\n  @ViewChild('youtubePlayer') youtubePlayer: YouTubePlayer\n\n  constructor(private keyValueStoreService: KeyValueStoreService) { }\n\n  ngOnInit() {\n    if (!apiLoaded) {\n      // This code loads the IFrame Player API code asynchronously, according to the instructions at\n      // https://developers.google.com/youtube/iframe_api_reference#Getting_Started\n      const tag = document.createElement('script');\n      tag.src = 'https://www.youtube.com/iframe_api';\n      document.body.appendChild(tag);\n      apiLoaded = true;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    const ro = new ResizeObserver(entries => {\n      for (let entry of entries) {\n        this.playerWidth = entry.contentRect.width\n      }\n    });\n\n    // Observe one or multiple elements\n    ro.observe(document.getElementById(\"player-row\"));\n  }\n\n  async onOpen(videoId: string) {\n    const currentTimeFromStore: number = this.keyValueStoreService.get(videoId)\n\n    if (currentTimeFromStore) {\n      this.startSeconds = currentTimeFromStore\n    }\n\n    this.videoId = videoId\n  }\n\n  async onPlay() {\n    if (!isNil(this.videoPlayerIntervalId)) {\n      clearInterval(this.videoPlayerIntervalId)\n    }\n\n    this.youtubePlayer.playVideo()\n\n    this.videoPlayerIntervalId = setInterval(() => this.keyValueStoreService.set(this.videoId, Math.round(this.youtubePlayer.getCurrentTime())), 5000)\n  }\n\n  onPause() {\n    this.youtubePlayer.pauseVideo()\n    this.keyValueStoreService.set(this.videoId, Math.round(this.youtubePlayer.getCurrentTime()))\n\n    if (!isNil(this.videoPlayerIntervalId)) {\n      clearInterval(this.videoPlayerIntervalId)\n    }\n  }\n\n  onSkipForward() {\n    this.youtubePlayer.seekTo(Math.round(this.youtubePlayer.getCurrentTime()) + this.SKIP_TIME_IN_SECONDS, true)\n  }\n\n  onSkipBackward() {\n    this.youtubePlayer.seekTo(Math.round(this.youtubePlayer.getCurrentTime()) - this.SKIP_TIME_IN_SECONDS, true)\n  }\n\n  onTimerStart(timeout: number) {\n    if (!isNil(this.timeoutIntervalId)) {\n      clearInterval(this.timeoutIntervalId)\n    }\n\n    this.youtubePlayer.playVideo()\n\n    this.timeout = timeout // * this.SECONDS_PER_MINUTE\n    this.timeoutIntervalId = setInterval(() => {\n      if (this.timeout > 0) {\n        this.timeout--\n      } else {\n        clearInterval(this.timeoutIntervalId)\n        this.youtubePlayer.pauseVideo()\n      }\n    }, 1000)\n  }\n}\n\n","import { Injectable } from '@angular/core';\nimport { isNil } from '../helpers/utils';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class KeyValueStoreService {\n\n  constructor() { }\n\n  set<T>(key: string, value: T): void{\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n\n  get(key:string): any{\n    const value = localStorage.getItem(key)\n    if(isNil(value))\n      return null\n    return JSON.parse(value)\n  }\n\n  clear(): void{\n    localStorage.clear()\n  }\n\n  delete(key:string): void{\n    localStorage.removeItem(key)\n  }\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { map } from '../operators/map';\nexport function fromEventPattern(addHandler, removeHandler, resultSelector) {\n    if (resultSelector) {\n        return fromEventPattern(addHandler, removeHandler).pipe(map(args => isArray(args) ? resultSelector(...args) : resultSelector(args)));\n    }\n    return new Observable(subscriber => {\n        const handler = (...e) => subscriber.next(e.length === 1 ? e[0] : e);\n        let retValue;\n        try {\n            retValue = addHandler(handler);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        if (!isFunction(removeHandler)) {\n            return undefined;\n        }\n        return () => removeHandler(handler, retValue);\n    });\n}\n","import { isArray } from '../util/isArray';\nimport { CombineLatestOperator } from '../observable/combineLatest';\nimport { from } from '../observable/from';\nconst none = {};\nexport function combineLatest(...observables) {\n    let project = null;\n    if (typeof observables[observables.length - 1] === 'function') {\n        project = observables.pop();\n    }\n    if (observables.length === 1 && isArray(observables[0])) {\n        observables = observables[0].slice();\n    }\n    return (source) => source.lift.call(from([source, ...observables]), new CombineLatestOperator(project));\n}\n","import { Subject } from '../Subject';\nimport { multicast } from './multicast';\nexport function publish(selector) {\n    return selector ?\n        multicast(() => new Subject(), selector) :\n        multicast(new Subject());\n}\n","import { Subscriber } from '../Subscriber';\nexport function skipWhile(predicate) {\n    return (source) => source.lift(new SkipWhileOperator(predicate));\n}\nclass SkipWhileOperator {\n    constructor(predicate) {\n        this.predicate = predicate;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));\n    }\n}\nclass SkipWhileSubscriber extends Subscriber {\n    constructor(destination, predicate) {\n        super(destination);\n        this.predicate = predicate;\n        this.skipping = true;\n        this.index = 0;\n    }\n    _next(value) {\n        const destination = this.destination;\n        if (this.skipping) {\n            this.tryCallPredicate(value);\n        }\n        if (!this.skipping) {\n            destination.next(value);\n        }\n    }\n    tryCallPredicate(value) {\n        try {\n            const result = this.predicate(value, this.index++);\n            this.skipping = Boolean(result);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    }\n}\n","import { innerSubscribe, SimpleInnerSubscriber, SimpleOuterSubscriber } from '../innerSubscribe';\nexport function takeUntil(notifier) {\n    return (source) => source.lift(new TakeUntilOperator(notifier));\n}\nclass TakeUntilOperator {\n    constructor(notifier) {\n        this.notifier = notifier;\n    }\n    call(subscriber, source) {\n        const takeUntilSubscriber = new TakeUntilSubscriber(subscriber);\n        const notifierSubscription = innerSubscribe(this.notifier, new SimpleInnerSubscriber(takeUntilSubscriber));\n        if (notifierSubscription && !takeUntilSubscriber.seenValue) {\n            takeUntilSubscriber.add(notifierSubscription);\n            return source.subscribe(takeUntilSubscriber);\n        }\n        return takeUntilSubscriber;\n    }\n}\nclass TakeUntilSubscriber extends SimpleOuterSubscriber {\n    constructor(destination) {\n        super(destination);\n        this.seenValue = false;\n    }\n    notifyNext() {\n        this.seenValue = true;\n        this.complete();\n    }\n    notifyComplete() {\n    }\n}\n","import { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom(...args) {\n    return (source) => {\n        let project;\n        if (typeof args[args.length - 1] === 'function') {\n            project = args.pop();\n        }\n        const observables = args;\n        return source.lift(new WithLatestFromOperator(observables, project));\n    };\n}\nclass WithLatestFromOperator {\n    constructor(observables, project) {\n        this.observables = observables;\n        this.project = project;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    }\n}\nclass WithLatestFromSubscriber extends OuterSubscriber {\n    constructor(destination, observables, project) {\n        super(destination);\n        this.observables = observables;\n        this.project = project;\n        this.toRespond = [];\n        const len = observables.length;\n        this.values = new Array(len);\n        for (let i = 0; i < len; i++) {\n            this.toRespond.push(i);\n        }\n        for (let i = 0; i < len; i++) {\n            let observable = observables[i];\n            this.add(subscribeToResult(this, observable, undefined, i));\n        }\n    }\n    notifyNext(_outerValue, innerValue, outerIndex) {\n        this.values[outerIndex] = innerValue;\n        const toRespond = this.toRespond;\n        if (toRespond.length > 0) {\n            const found = toRespond.indexOf(outerIndex);\n            if (found !== -1) {\n                toRespond.splice(found, 1);\n            }\n        }\n    }\n    notifyComplete() {\n    }\n    _next(value) {\n        if (this.toRespond.length === 0) {\n            const args = [value, ...this.values];\n            if (this.project) {\n                this._tryProject(args);\n            }\n            else {\n                this.destination.next(args);\n            }\n        }\n    }\n    _tryProject(args) {\n        let result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    }\n}\n","import * as i0 from '@angular/core';\nimport { PLATFORM_ID, Component, ChangeDetectionStrategy, ViewEncapsulation, Inject, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Subject, BehaviorSubject, of, combineLatest, pipe, Observable, fromEventPattern, merge } from 'rxjs';\nimport { take, startWith, combineLatest as combineLatest$1, skipWhile, map, scan, distinctUntilChanged, tap, mergeMap, takeUntil, publish, switchMap, withLatestFrom, filter } from 'rxjs/operators';\n\n/// <reference types=\"youtube\" />\nconst DEFAULT_PLAYER_WIDTH = 640;\nconst DEFAULT_PLAYER_HEIGHT = 390;\n/**\n * Angular component that renders a YouTube player via the YouTube player\n * iframe API.\n * @see https://developers.google.com/youtube/iframe_api_reference\n */\nclass YouTubePlayer {\n    constructor(_ngZone, platformId) {\n        this._ngZone = _ngZone;\n        this._youtubeContainer = new Subject();\n        this._destroyed = new Subject();\n        this._playerChanges = new BehaviorSubject(undefined);\n        this._videoId = new BehaviorSubject(undefined);\n        this._height = new BehaviorSubject(DEFAULT_PLAYER_HEIGHT);\n        this._width = new BehaviorSubject(DEFAULT_PLAYER_WIDTH);\n        this._startSeconds = new BehaviorSubject(undefined);\n        this._endSeconds = new BehaviorSubject(undefined);\n        this._suggestedQuality = new BehaviorSubject(undefined);\n        this._playerVars = new BehaviorSubject(undefined);\n        /** Outputs are direct proxies from the player itself. */\n        this.ready = this._getLazyEmitter('onReady');\n        this.stateChange = this._getLazyEmitter('onStateChange');\n        this.error = this._getLazyEmitter('onError');\n        this.apiChange = this._getLazyEmitter('onApiChange');\n        this.playbackQualityChange = this._getLazyEmitter('onPlaybackQualityChange');\n        this.playbackRateChange = this._getLazyEmitter('onPlaybackRateChange');\n        this._isBrowser = isPlatformBrowser(platformId);\n    }\n    /** YouTube Video ID to view */\n    get videoId() {\n        return this._videoId.value;\n    }\n    set videoId(videoId) {\n        this._videoId.next(videoId);\n    }\n    /** Height of video player */\n    get height() {\n        return this._height.value;\n    }\n    set height(height) {\n        this._height.next(height || DEFAULT_PLAYER_HEIGHT);\n    }\n    /** Width of video player */\n    get width() {\n        return this._width.value;\n    }\n    set width(width) {\n        this._width.next(width || DEFAULT_PLAYER_WIDTH);\n    }\n    /** The moment when the player is supposed to start playing */\n    set startSeconds(startSeconds) {\n        this._startSeconds.next(startSeconds);\n    }\n    /** The moment when the player is supposed to stop playing */\n    set endSeconds(endSeconds) {\n        this._endSeconds.next(endSeconds);\n    }\n    /** The suggested quality of the player */\n    set suggestedQuality(suggestedQuality) {\n        this._suggestedQuality.next(suggestedQuality);\n    }\n    /**\n     * Extra parameters used to configure the player. See:\n     * https://developers.google.com/youtube/player_parameters.html?playerVersion=HTML5#Parameters\n     */\n    get playerVars() {\n        return this._playerVars.value;\n    }\n    set playerVars(playerVars) {\n        this._playerVars.next(playerVars);\n    }\n    ngOnInit() {\n        // Don't do anything if we're not in a browser environment.\n        if (!this._isBrowser) {\n            return;\n        }\n        let iframeApiAvailableObs = of(true);\n        if (!window.YT || !window.YT.Player) {\n            if (this.showBeforeIframeApiLoads && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n                throw new Error('Namespace YT not found, cannot construct embedded youtube player. ' +\n                    'Please install the YouTube Player API Reference for iframe Embeds: ' +\n                    'https://developers.google.com/youtube/iframe_api_reference');\n            }\n            const iframeApiAvailableSubject = new Subject();\n            this._existingApiReadyCallback = window.onYouTubeIframeAPIReady;\n            window.onYouTubeIframeAPIReady = () => {\n                if (this._existingApiReadyCallback) {\n                    this._existingApiReadyCallback();\n                }\n                this._ngZone.run(() => iframeApiAvailableSubject.next(true));\n            };\n            iframeApiAvailableObs = iframeApiAvailableSubject.pipe(take(1), startWith(false));\n        }\n        // An observable of the currently loaded player.\n        const playerObs = createPlayerObservable(this._youtubeContainer, this._videoId, iframeApiAvailableObs, this._width, this._height, this._playerVars, this._ngZone).pipe(tap(player => {\n            // Emit this before the `waitUntilReady` call so that we can bind to\n            // events that happen as the player is being initialized (e.g. `onReady`).\n            this._playerChanges.next(player);\n        }), waitUntilReady(player => {\n            // Destroy the player if loading was aborted so that we don't end up leaking memory.\n            if (!playerIsReady(player)) {\n                player.destroy();\n            }\n        }), takeUntil(this._destroyed), publish());\n        // Set up side effects to bind inputs to the player.\n        playerObs.subscribe(player => {\n            this._player = player;\n            if (player && this._pendingPlayerState) {\n                this._initializePlayer(player, this._pendingPlayerState);\n            }\n            this._pendingPlayerState = undefined;\n        });\n        bindSizeToPlayer(playerObs, this._width, this._height);\n        bindSuggestedQualityToPlayer(playerObs, this._suggestedQuality);\n        bindCueVideoCall(playerObs, this._videoId, this._startSeconds, this._endSeconds, this._suggestedQuality, this._destroyed);\n        // After all of the subscriptions are set up, connect the observable.\n        playerObs.connect();\n    }\n    ngAfterViewInit() {\n        this._youtubeContainer.next(this.youtubeContainer.nativeElement);\n    }\n    ngOnDestroy() {\n        if (this._player) {\n            this._player.destroy();\n            window.onYouTubeIframeAPIReady = this._existingApiReadyCallback;\n        }\n        this._playerChanges.complete();\n        this._videoId.complete();\n        this._height.complete();\n        this._width.complete();\n        this._startSeconds.complete();\n        this._endSeconds.complete();\n        this._suggestedQuality.complete();\n        this._youtubeContainer.complete();\n        this._playerVars.complete();\n        this._destroyed.next();\n        this._destroyed.complete();\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#playVideo */\n    playVideo() {\n        if (this._player) {\n            this._player.playVideo();\n        }\n        else {\n            this._getPendingState().playbackState = YT.PlayerState.PLAYING;\n        }\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#pauseVideo */\n    pauseVideo() {\n        if (this._player) {\n            this._player.pauseVideo();\n        }\n        else {\n            this._getPendingState().playbackState = YT.PlayerState.PAUSED;\n        }\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#stopVideo */\n    stopVideo() {\n        if (this._player) {\n            this._player.stopVideo();\n        }\n        else {\n            // It seems like YouTube sets the player to CUED when it's stopped.\n            this._getPendingState().playbackState = YT.PlayerState.CUED;\n        }\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#seekTo */\n    seekTo(seconds, allowSeekAhead) {\n        if (this._player) {\n            this._player.seekTo(seconds, allowSeekAhead);\n        }\n        else {\n            this._getPendingState().seek = { seconds, allowSeekAhead };\n        }\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#mute */\n    mute() {\n        if (this._player) {\n            this._player.mute();\n        }\n        else {\n            this._getPendingState().muted = true;\n        }\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#unMute */\n    unMute() {\n        if (this._player) {\n            this._player.unMute();\n        }\n        else {\n            this._getPendingState().muted = false;\n        }\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#isMuted */\n    isMuted() {\n        if (this._player) {\n            return this._player.isMuted();\n        }\n        if (this._pendingPlayerState) {\n            return !!this._pendingPlayerState.muted;\n        }\n        return false;\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#setVolume */\n    setVolume(volume) {\n        if (this._player) {\n            this._player.setVolume(volume);\n        }\n        else {\n            this._getPendingState().volume = volume;\n        }\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getVolume */\n    getVolume() {\n        if (this._player) {\n            return this._player.getVolume();\n        }\n        if (this._pendingPlayerState && this._pendingPlayerState.volume != null) {\n            return this._pendingPlayerState.volume;\n        }\n        return 0;\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#setPlaybackRate */\n    setPlaybackRate(playbackRate) {\n        if (this._player) {\n            return this._player.setPlaybackRate(playbackRate);\n        }\n        else {\n            this._getPendingState().playbackRate = playbackRate;\n        }\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getPlaybackRate */\n    getPlaybackRate() {\n        if (this._player) {\n            return this._player.getPlaybackRate();\n        }\n        if (this._pendingPlayerState && this._pendingPlayerState.playbackRate != null) {\n            return this._pendingPlayerState.playbackRate;\n        }\n        return 0;\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getAvailablePlaybackRates */\n    getAvailablePlaybackRates() {\n        return this._player ? this._player.getAvailablePlaybackRates() : [];\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getVideoLoadedFraction */\n    getVideoLoadedFraction() {\n        return this._player ? this._player.getVideoLoadedFraction() : 0;\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getPlayerState */\n    getPlayerState() {\n        if (!this._isBrowser || !window.YT) {\n            return undefined;\n        }\n        if (this._player) {\n            return this._player.getPlayerState();\n        }\n        if (this._pendingPlayerState && this._pendingPlayerState.playbackState != null) {\n            return this._pendingPlayerState.playbackState;\n        }\n        return YT.PlayerState.UNSTARTED;\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getCurrentTime */\n    getCurrentTime() {\n        if (this._player) {\n            return this._player.getCurrentTime();\n        }\n        if (this._pendingPlayerState && this._pendingPlayerState.seek) {\n            return this._pendingPlayerState.seek.seconds;\n        }\n        return 0;\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getPlaybackQuality */\n    getPlaybackQuality() {\n        return this._player ? this._player.getPlaybackQuality() : 'default';\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getAvailableQualityLevels */\n    getAvailableQualityLevels() {\n        return this._player ? this._player.getAvailableQualityLevels() : [];\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getDuration */\n    getDuration() {\n        return this._player ? this._player.getDuration() : 0;\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getVideoUrl */\n    getVideoUrl() {\n        return this._player ? this._player.getVideoUrl() : '';\n    }\n    /** See https://developers.google.com/youtube/iframe_api_reference#getVideoEmbedCode */\n    getVideoEmbedCode() {\n        return this._player ? this._player.getVideoEmbedCode() : '';\n    }\n    /** Gets an object that should be used to store the temporary API state. */\n    _getPendingState() {\n        if (!this._pendingPlayerState) {\n            this._pendingPlayerState = {};\n        }\n        return this._pendingPlayerState;\n    }\n    /** Initializes a player from a temporary state. */\n    _initializePlayer(player, state) {\n        const { playbackState, playbackRate, volume, muted, seek } = state;\n        switch (playbackState) {\n            case YT.PlayerState.PLAYING:\n                player.playVideo();\n                break;\n            case YT.PlayerState.PAUSED:\n                player.pauseVideo();\n                break;\n            case YT.PlayerState.CUED:\n                player.stopVideo();\n                break;\n        }\n        if (playbackRate != null) {\n            player.setPlaybackRate(playbackRate);\n        }\n        if (volume != null) {\n            player.setVolume(volume);\n        }\n        if (muted != null) {\n            muted ? player.mute() : player.unMute();\n        }\n        if (seek != null) {\n            player.seekTo(seek.seconds, seek.allowSeekAhead);\n        }\n    }\n    /** Gets an observable that adds an event listener to the player when a user subscribes to it. */\n    _getLazyEmitter(name) {\n        // Start with the stream of players. This way the events will be transferred\n        // over to the new player if it gets swapped out under-the-hood.\n        return this._playerChanges.pipe(\n        // Switch to the bound event. `switchMap` ensures that the old event is removed when the\n        // player is changed. If there's no player, return an observable that never emits.\n        switchMap(player => {\n            return player\n                ? fromEventPattern((listener) => {\n                    player.addEventListener(name, listener);\n                }, (listener) => {\n                    // The API seems to throw when we try to unbind from a destroyed player and it doesn't\n                    // expose whether the player has been destroyed so we have to wrap it in a try/catch to\n                    // prevent the entire stream from erroring out.\n                    try {\n                        if (player.removeEventListener) {\n                            player.removeEventListener(name, listener);\n                        }\n                    }\n                    catch (_a) { }\n                })\n                : of();\n        }), \n        // By default we run all the API interactions outside the zone\n        // so we have to bring the events back in manually when they emit.\n        (source) => new Observable(observer => source.subscribe({\n            next: value => this._ngZone.run(() => observer.next(value)),\n            error: error => observer.error(error),\n            complete: () => observer.complete(),\n        })), \n        // Ensures that everything is cleared out on destroy.\n        takeUntil(this._destroyed));\n    }\n}\nYouTubePlayer.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.0\", ngImport: i0, type: YouTubePlayer, deps: [{ token: i0.NgZone }, { token: PLATFORM_ID }], target: i0.FactoryTarget.Component });\nYouTubePlayer.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.0\", type: YouTubePlayer, selector: \"youtube-player\", inputs: { videoId: \"videoId\", height: \"height\", width: \"width\", startSeconds: \"startSeconds\", endSeconds: \"endSeconds\", suggestedQuality: \"suggestedQuality\", playerVars: \"playerVars\", showBeforeIframeApiLoads: \"showBeforeIframeApiLoads\" }, outputs: { ready: \"ready\", stateChange: \"stateChange\", error: \"error\", apiChange: \"apiChange\", playbackQualityChange: \"playbackQualityChange\", playbackRateChange: \"playbackRateChange\" }, viewQueries: [{ propertyName: \"youtubeContainer\", first: true, predicate: [\"youtubeContainer\"], descendants: true }], ngImport: i0, template: '<div #youtubeContainer></div>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.0\", ngImport: i0, type: YouTubePlayer, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'youtube-player',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    encapsulation: ViewEncapsulation.None,\n                    // This div is *replaced* by the YouTube player embed.\n                    template: '<div #youtubeContainer></div>',\n                }]\n        }], ctorParameters: function () {\n        return [{ type: i0.NgZone }, { type: Object, decorators: [{\n                        type: Inject,\n                        args: [PLATFORM_ID]\n                    }] }];\n    }, propDecorators: { videoId: [{\n                type: Input\n            }], height: [{\n                type: Input\n            }], width: [{\n                type: Input\n            }], startSeconds: [{\n                type: Input\n            }], endSeconds: [{\n                type: Input\n            }], suggestedQuality: [{\n                type: Input\n            }], playerVars: [{\n                type: Input\n            }], showBeforeIframeApiLoads: [{\n                type: Input\n            }], ready: [{\n                type: Output\n            }], stateChange: [{\n                type: Output\n            }], error: [{\n                type: Output\n            }], apiChange: [{\n                type: Output\n            }], playbackQualityChange: [{\n                type: Output\n            }], playbackRateChange: [{\n                type: Output\n            }], youtubeContainer: [{\n                type: ViewChild,\n                args: ['youtubeContainer']\n            }] } });\n/** Listens to changes to the given width and height and sets it on the player. */\nfunction bindSizeToPlayer(playerObs, widthObs, heightObs) {\n    return combineLatest([playerObs, widthObs, heightObs]).subscribe(([player, width, height]) => player && player.setSize(width, height));\n}\n/** Listens to changes from the suggested quality and sets it on the given player. */\nfunction bindSuggestedQualityToPlayer(playerObs, suggestedQualityObs) {\n    return combineLatest([playerObs, suggestedQualityObs]).subscribe(([player, suggestedQuality]) => player && suggestedQuality && player.setPlaybackQuality(suggestedQuality));\n}\n/**\n * Returns an observable that emits the loaded player once it's ready. Certain properties/methods\n * won't be available until the iframe finishes loading.\n * @param onAbort Callback function that will be invoked if the player loading was aborted before\n * it was able to complete. Can be used to clean up any loose references.\n */\nfunction waitUntilReady(onAbort) {\n    return mergeMap(player => {\n        if (!player) {\n            return of(undefined);\n        }\n        if (playerIsReady(player)) {\n            return of(player);\n        }\n        // Since removeEventListener is not on Player when it's initialized, we can't use fromEvent.\n        // The player is not initialized fully until the ready is called.\n        return new Observable(emitter => {\n            let aborted = false;\n            let resolved = false;\n            const onReady = (event) => {\n                resolved = true;\n                if (!aborted) {\n                    event.target.removeEventListener('onReady', onReady);\n                    emitter.next(event.target);\n                }\n            };\n            player.addEventListener('onReady', onReady);\n            return () => {\n                aborted = true;\n                if (!resolved) {\n                    onAbort(player);\n                }\n            };\n        }).pipe(take(1), startWith(undefined));\n    });\n}\n/** Create an observable for the player based on the given options. */\nfunction createPlayerObservable(youtubeContainer, videoIdObs, iframeApiAvailableObs, widthObs, heightObs, playerVarsObs, ngZone) {\n    const playerOptions = combineLatest([videoIdObs, playerVarsObs]).pipe(withLatestFrom(combineLatest([widthObs, heightObs])), map(([constructorOptions, sizeOptions]) => {\n        const [videoId, playerVars] = constructorOptions;\n        const [width, height] = sizeOptions;\n        return videoId ? { videoId, playerVars, width, height } : undefined;\n    }));\n    return combineLatest([youtubeContainer, playerOptions, of(ngZone)]).pipe(skipUntilRememberLatest(iframeApiAvailableObs), scan(syncPlayerState, undefined), distinctUntilChanged());\n}\n/** Skips the given observable until the other observable emits true, then emit the latest. */\nfunction skipUntilRememberLatest(notifier) {\n    return pipe(combineLatest$1(notifier), skipWhile(([_, doneSkipping]) => !doneSkipping), map(([value]) => value));\n}\n/** Destroy the player if there are no options, or create the player if there are options. */\nfunction syncPlayerState(player, [container, videoOptions, ngZone]) {\n    if (player && videoOptions && player.playerVars !== videoOptions.playerVars) {\n        // The player needs to be recreated if the playerVars are different.\n        player.destroy();\n    }\n    else if (!videoOptions) {\n        if (player) {\n            // Destroy the player if the videoId was removed.\n            player.destroy();\n        }\n        return;\n    }\n    else if (player) {\n        return player;\n    }\n    // Important! We need to create the Player object outside of the `NgZone`, because it kicks\n    // off a 250ms setInterval which will continually trigger change detection if we don't.\n    const newPlayer = ngZone.runOutsideAngular(() => new YT.Player(container, videoOptions));\n    newPlayer.videoId = videoOptions.videoId;\n    newPlayer.playerVars = videoOptions.playerVars;\n    return newPlayer;\n}\n/**\n * Call cueVideoById if the videoId changes, or when start or end seconds change. cueVideoById will\n * change the loaded video id to the given videoId, and set the start and end times to the given\n * start/end seconds.\n */\nfunction bindCueVideoCall(playerObs, videoIdObs, startSecondsObs, endSecondsObs, suggestedQualityObs, destroyed) {\n    const cueOptionsObs = combineLatest([startSecondsObs, endSecondsObs]).pipe(map(([startSeconds, endSeconds]) => ({ startSeconds, endSeconds })));\n    // Only respond to changes in cue options if the player is not running.\n    const filteredCueOptions = cueOptionsObs.pipe(filterOnOther(playerObs, player => !!player && !hasPlayerStarted(player)));\n    // If the video id changed, there's no reason to run 'cue' unless the player\n    // was initialized with a different video id.\n    const changedVideoId = videoIdObs.pipe(filterOnOther(playerObs, (player, videoId) => !!player && player.videoId !== videoId));\n    // If the player changed, there's no reason to run 'cue' unless there are cue options.\n    const changedPlayer = playerObs.pipe(filterOnOther(combineLatest([videoIdObs, cueOptionsObs]), ([videoId, cueOptions], player) => !!player &&\n        (videoId != player.videoId || !!cueOptions.startSeconds || !!cueOptions.endSeconds)));\n    merge(changedPlayer, changedVideoId, filteredCueOptions)\n        .pipe(withLatestFrom(combineLatest([playerObs, videoIdObs, cueOptionsObs, suggestedQualityObs])), map(([_, values]) => values), takeUntil(destroyed))\n        .subscribe(([player, videoId, cueOptions, suggestedQuality]) => {\n        if (!videoId || !player) {\n            return;\n        }\n        player.videoId = videoId;\n        player.cueVideoById(Object.assign({ videoId,\n            suggestedQuality }, cueOptions));\n    });\n}\nfunction hasPlayerStarted(player) {\n    const state = player.getPlayerState();\n    return state !== YT.PlayerState.UNSTARTED && state !== YT.PlayerState.CUED;\n}\nfunction playerIsReady(player) {\n    return 'getPlayerStatus' in player;\n}\n/** Combines the two observables temporarily for the filter function. */\nfunction filterOnOther(otherObs, filterFn) {\n    return pipe(withLatestFrom(otherObs), filter(([value, other]) => filterFn(other, value)), map(([value]) => value));\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst COMPONENTS = [YouTubePlayer];\nclass YouTubePlayerModule {\n}\nYouTubePlayerModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.0\", ngImport: i0, type: YouTubePlayerModule, deps: [], target: i0.FactoryTarget.NgModule });\nYouTubePlayerModule.mod = i0.ngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.0\", ngImport: i0, type: YouTubePlayerModule, declarations: [YouTubePlayer], exports: [YouTubePlayer] });\nYouTubePlayerModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.0\", ngImport: i0, type: YouTubePlayerModule });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.0\", ngImport: i0, type: YouTubePlayerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: COMPONENTS,\n                    exports: COMPONENTS,\n                }]\n        }] });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { YouTubePlayer, YouTubePlayerModule };\n"],"names":["i0","PLATFORM_ID","Component","ChangeDetectionStrategy","ViewEncapsulation","Inject","Input","Output","ViewChild","NgModule","isPlatformBrowser","Subject","BehaviorSubject","of","combineLatest","pipe","Observable","fromEventPattern","merge","take","startWith","combineLatest$1","skipWhile","map","scan","distinctUntilChanged","tap","mergeMap","takeUntil","publish","switchMap","withLatestFrom","filter","DEFAULT_PLAYER_WIDTH","DEFAULT_PLAYER_HEIGHT","YouTubePlayer","constructor","_ngZone","platformId","_youtubeContainer","_destroyed","_playerChanges","undefined","_videoId","_height","_width","_startSeconds","_endSeconds","_suggestedQuality","_playerVars","ready","_getLazyEmitter","stateChange","error","apiChange","playbackQualityChange","playbackRateChange","_isBrowser","videoId","value","next","height","width","startSeconds","endSeconds","suggestedQuality","playerVars","ngOnInit","iframeApiAvailableObs","window","YT","Player","showBeforeIframeApiLoads","ngDevMode","Error","iframeApiAvailableSubject","_existingApiReadyCallback","onYouTubeIframeAPIReady","run","playerObs","createPlayerObservable","player","waitUntilReady","playerIsReady","destroy","subscribe","_player","_pendingPlayerState","_initializePlayer","bindSizeToPlayer","bindSuggestedQualityToPlayer","bindCueVideoCall","connect","ngAfterViewInit","youtubeContainer","nativeElement","ngOnDestroy","complete","playVideo","_getPendingState","playbackState","PlayerState","PLAYING","pauseVideo","PAUSED","stopVideo","CUED","seekTo","seconds","allowSeekAhead","seek","mute","muted","unMute","isMuted","setVolume","volume","getVolume","setPlaybackRate","playbackRate","getPlaybackRate","getAvailablePlaybackRates","getVideoLoadedFraction","getPlayerState","UNSTARTED","getCurrentTime","getPlaybackQuality","getAvailableQualityLevels","getDuration","getVideoUrl","getVideoEmbedCode","state","name","listener","addEventListener","removeEventListener","_a","source","observer","fac","NgZone","cmp","type","args","selector","changeDetection","OnPush","encapsulation","None","template","Object","decorators","widthObs","heightObs","setSize","suggestedQualityObs","setPlaybackQuality","onAbort","emitter","aborted","resolved","onReady","event","target","videoIdObs","playerVarsObs","ngZone","playerOptions","constructorOptions","sizeOptions","skipUntilRememberLatest","syncPlayerState","notifier","_","doneSkipping","container","videoOptions","newPlayer","runOutsideAngular","startSecondsObs","endSecondsObs","destroyed","cueOptionsObs","filteredCueOptions","filterOnOther","hasPlayerStarted","changedVideoId","changedPlayer","cueOptions","values","cueVideoById","assign","otherObs","filterFn","other","COMPONENTS","YouTubePlayerModule","mod","inj","declarations","exports"],"sourceRoot":"webpack:///"}