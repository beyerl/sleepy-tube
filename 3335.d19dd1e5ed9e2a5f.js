"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3335],{3335:(Z,S,s)=>{s.r(S),s.d(S,{SearchPageModule:()=>b});var u=s(9808),i=s(6926),g=s(4182),h=s(1873),v=s(655),d=s(8110),e=s(9863),m=s(7449),p=s(9168),y=s(4115),f=s(1628),k=s(6732);const C=["searchInput"],P=["class","page"],T=[{path:"",component:(()=>{class r{constructor(t,o,a,l,c){this.searchService=t,this.router=o,this.keyValueStorageService=a,this.playerService=l,this.libraryService=c,this.searchForAudiobooksOnly=!0,this.AudiobooksSearchString=" audiobook",this.results=[]}ngOnInit(){return(0,v.mG)(this,void 0,void 0,function*(){const t=this.keyValueStorageService.get("searchTerm",sessionStorage);(0,d.k)(t)||(this.searchTerm=t);const o=this.keyValueStorageService.get("results",sessionStorage);(0,d.k)(o)||(this.results=o)})}ngAfterViewInit(){this.searchInput.value=this.searchTerm}onSearch(t){return(0,v.mG)(this,void 0,void 0,function*(){this.searchTerm=t+(this.searchForAudiobooksOnly?this.AudiobooksSearchString:""),this.results=yield this.searchService.getSearchResults(this.searchTerm,15),this.keyValueStorageService.set("searchTerm",t,sessionStorage),this.keyValueStorageService.set("results",this.results,sessionStorage)})}onSearchResultClick(t){this.playerService.setCurrentVideo(t),this.router.navigateByUrl(`/tabs/player?v=${t.id}`)}onBookmarkClick(t){this.libraryService.add(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.o),e.Y36(h.F0),e.Y36(p.Z),e.Y36(y.l),e.Y36(f.$))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-search",8,"page"]],viewQuery:function(t,o){if(1&t&&e.Gf(C,5),2&t){let a;e.iGM(a=e.CRH())&&(o.searchInput=a.first)}},attrs:P,decls:12,vars:3,consts:[["type","text","placeholder","Search in Youtube"],["searchInput",""],["color","primary",3,"disabled","click"],["name","search"],[3,"fullscreen"],[3,"videos","videoClick","bookmarkClick"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3," SleepyTube "),e.qZA()(),e.TgZ(4,"ion-toolbar")(5,"ion-buttons"),e._UZ(6,"ion-input",0,1),e.TgZ(8,"ion-button",2),e.NdJ("click",function(){e.CHM(a);const c=e.MAs(7);return o.onSearch(c.value)}),e._UZ(9,"ion-icon",3),e.qZA()()()(),e.TgZ(10,"ion-content",4)(11,"app-video-list",5),e.NdJ("videoClick",function(c){return o.onSearchResultClick(c)})("bookmarkClick",function(c){return o.onBookmarkClick(c)}),e.qZA()()}if(2&t){const a=e.MAs(7);e.xp6(8),e.Q6J("disabled",a.value===o.searchTerm),e.xp6(2),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("videos",o.results)}},directives:[i.Gu,i.sr,i.wd,i.Sm,i.pK,i.j9,i.YG,i.gu,i.W2,k.Y],styles:[""]}),r})()}];let A=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:u.S$,useClass:u.Do}],imports:[[h.Bz.forChild(T)],h.Bz]}),r})();var M=s(6472);let b=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[u.ez,g.u5,i.Pc,A,M.K]]}),r})()}}]);