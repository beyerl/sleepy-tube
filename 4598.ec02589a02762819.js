"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4598],{4598:(Ye,Z,a)=>{a.r(Z),a.d(Z,{PlayerPageModule:()=>Ue});var p=a(9808),l=a(6926),E=a(4182),T=a(3249),v=a(655);const h=i=>null==i;var t=a(9863);let F=(()=>{class i{constructor(){}set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e){const n=localStorage.getItem(e);return h(n)?null:JSON.parse(n)}clear(){localStorage.clear()}delete(e){localStorage.removeItem(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const B=["scrubberClickLayer"];function z(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",2,3),t.NdJ("click",function(s){return t.CHM(e),t.oxw().onProgressClick(s)}),t._UZ(2,"ion-progress-bar",4),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("value",e.value)("buffer",e.buffer)}}function G(i,r){1&i&&(t.TgZ(0,"div",5),t._UZ(1,"ion-progress-bar",6),t.qZA())}let W=(()=>{class i{constructor(){this.clicked=new t.vpe}ngOnInit(){}onProgressClick(e){h(e.clientX)||h(this.scrubberClickLayer.nativeElement.clientWidth)||this.clicked.emit(e.clientX/this.scrubberClickLayer.nativeElement.clientWidth)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-scrubber"]],viewQuery:function(e,n){if(1&e&&t.Gf(B,5),2&e){let s;t.iGM(s=t.CRH())&&(n.scrubberClickLayer=s.first)}},inputs:{value:"value",buffer:"buffer",disabled:"disabled"},outputs:{clicked:"clicked"},decls:3,vars:2,consts:[["class","scrubber__click-layer",3,"click",4,"ngIf","ngIfElse"],["disabledTemplate",""],[1,"scrubber__click-layer",3,"click"],["scrubberClickLayer",""],[3,"value","buffer"],[1,"scrubber__click-layer","scrubber__click-layer-disabled"],[1,"scrubber__progress-bar-disabled"]],template:function(e,n){if(1&e&&(t.YNc(0,z,3,2,"div",0),t.YNc(1,G,2,0,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",!n.disabled)("ngIfElse",s)}},directives:[p.O5,l.X7],styles:[".scrubber__click-layer[_ngcontent-%COMP%]{height:30px;background-color:var(--ion-color-light);display:flex;align-items:center}.scrubber__click-layer-disabled[_ngcontent-%COMP%]{background-color:var(--ion-color-white)}.scrubber__progress-bar-disabled[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}"]}),i})();var P=a(5529),f=a(591),S=a(1086),C=a(6498),x=a(6688),X=a(7043),m=a(4850);function R(i,r,e){return e?R(i,r).pipe((0,m.U)(n=>(0,x.k)(n)?e(...n):e(n))):new C.y(n=>{const s=(...u)=>n.next(1===u.length?u[0]:u);let o;try{o=i(s)}catch(u){return void n.error(u)}if((0,X.m)(r))return()=>r(s,o)})}var y=a(6053),L=a(4843),H=a(6787),O=a(2986),N=a(1059),K=a(2868),I=a(1177);function k(i){return r=>r.lift(new $(i))}class ${constructor(r){this.notifier=r}call(r,e){const n=new q(r),s=(0,I.ft)(this.notifier,new I.IY(n));return s&&!n.seenValue?(n.add(s),e.subscribe(n)):n}}class q extends I.Ds{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var U=a(2536),te=a(7545),ie=a(1709),ne=a(826),re=a(448);function w(...i){return r=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),r.lift(new se(i,e))}}class se{constructor(r,e){this.observables=r,this.project=e}call(r,e){return e.subscribe(new oe(r,this.observables,this.project))}}class oe extends ne.L{constructor(r,e,n){super(r),this.observables=e,this.project=n,this.toRespond=[];const s=e.length;this.values=new Array(s);for(let o=0;o<s;o++)this.toRespond.push(o);for(let o=0;o<s;o++)this.add((0,re.D)(this,e[o],void 0,o))}notifyNext(r,e,n){this.values[n]=e;const s=this.toRespond;if(s.length>0){const o=s.indexOf(n);-1!==o&&s.splice(o,1)}}notifyComplete(){}_next(r){if(0===this.toRespond.length){const e=[r,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(r){let e;try{e=this.project.apply(this,r)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var ae=a(2014),le=a(5778),ue=a(5254),ce=a(3489);class pe{constructor(r){this.predicate=r}call(r,e){return e.subscribe(new ye(r,this.predicate))}}class ye extends ce.L{constructor(r,e){super(r),this.predicate=e,this.skipping=!0,this.index=0}_next(r){const e=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||e.next(r)}tryCallPredicate(r){try{const e=this.predicate(r,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var fe=a(2198);const ge=["youtubeContainer"];let D=(()=>{class i{constructor(e,n){this._ngZone=e,this._youtubeContainer=new P.xQ,this._destroyed=new P.xQ,this._playerChanges=new f.X(void 0),this._videoId=new f.X(void 0),this._height=new f.X(390),this._width=new f.X(640),this._startSeconds=new f.X(void 0),this._endSeconds=new f.X(void 0),this._suggestedQuality=new f.X(void 0),this._playerVars=new f.X(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=(0,p.NF)(n)}get videoId(){return this._videoId.value}set videoId(e){this._videoId.next(e)}get height(){return this._height.value}set height(e){this._height.next(e||390)}get width(){return this._width.value}set width(e){this._width.next(e||640)}set startSeconds(e){this._startSeconds.next(e)}set endSeconds(e){this._endSeconds.next(e)}set suggestedQuality(e){this._suggestedQuality.next(e)}get playerVars(){return this._playerVars.value}set playerVars(e){this._playerVars.next(e)}ngOnInit(){if(!this._isBrowser)return;let e=(0,S.of)(!0);if(!window.YT||!window.YT.Player){const s=new P.xQ;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>s.next(!0))},e=s.pipe((0,O.q)(1),(0,N.O)(!1))}const n=function Pe(i,r,e,n,s,o,u){const b=(0,y.aj)([r,o]).pipe(w((0,y.aj)([n,s])),(0,m.U)(([g,V])=>{const[d,c]=g,[_,A]=V;return d?{videoId:d,playerVars:c,width:_,height:A}:void 0}));return(0,y.aj)([i,b,(0,S.of)(u)]).pipe(function Se(i){return(0,L.z)(function de(...i){let r=null;return"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,x.k)(i[0])&&(i=i[0].slice()),e=>e.lift.call((0,ue.D)([e,...i]),new y.Ms(r))}(i),function he(i){return r=>r.lift(new pe(i))}(([r,e])=>!e),(0,m.U)(([r])=>r))}(e),(0,ae.R)(ve,void 0),(0,le.x)())}(this._youtubeContainer,this._videoId,e,this._width,this._height,this._playerVars,this._ngZone).pipe((0,K.b)(s=>{this._playerChanges.next(s)}),function _e(i){return(0,ie.zg)(r=>r?j(r)?(0,S.of)(r):new C.y(e=>{let n=!1,s=!1;const o=u=>{s=!0,n||(u.target.removeEventListener("onReady",o),e.next(u.target))};return r.addEventListener("onReady",o),()=>{n=!0,s||i(r)}}).pipe((0,O.q)(1),(0,N.O)(void 0)):(0,S.of)(void 0))}(s=>{j(s)||s.destroy()}),k(this._destroyed),function ee(i){return i?(0,U.O)(()=>new P.xQ,i):(0,U.O)(new P.xQ)}());n.subscribe(s=>{this._player=s,s&&this._pendingPlayerState&&this._initializePlayer(s,this._pendingPlayerState),this._pendingPlayerState=void 0}),function me(i,r,e){(0,y.aj)([i,r,e]).subscribe(([n,s,o])=>n&&n.setSize(s,o))}(n,this._width,this._height),function be(i,r){(0,y.aj)([i,r]).subscribe(([e,n])=>e&&n&&e.setPlaybackQuality(n))}(n,this._suggestedQuality),function Te(i,r,e,n,s,o){const u=(0,y.aj)([e,n]).pipe((0,m.U)(([d,c])=>({startSeconds:d,endSeconds:c}))),b=u.pipe(M(i,d=>!!d&&!function Ce(i){const r=i.getPlayerState();return r!==YT.PlayerState.UNSTARTED&&r!==YT.PlayerState.CUED}(d))),g=r.pipe(M(i,(d,c)=>!!d&&d.videoId!==c)),V=i.pipe(M((0,y.aj)([r,u]),([d,c],_)=>!(!_||d==_.videoId&&!c.startSeconds&&!c.endSeconds)));(0,H.T)(V,g,b).pipe(w((0,y.aj)([i,r,u,s])),(0,m.U)(([d,c])=>c),k(o)).subscribe(([d,c,_,A])=>{!c||!d||(d.videoId=c,d.cueVideoById(Object.assign({videoId:c,suggestedQuality:A},_)))})}(n,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),n.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(e,n){this._player?this._player.seekTo(e,n):this._getPendingState().seek={seconds:e,allowSeekAhead:n}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(e,n){const{playbackState:s,playbackRate:o,volume:u,muted:b,seek:g}=n;switch(s){case YT.PlayerState.PLAYING:e.playVideo();break;case YT.PlayerState.PAUSED:e.pauseVideo();break;case YT.PlayerState.CUED:e.stopVideo()}null!=o&&e.setPlaybackRate(o),null!=u&&e.setVolume(u),null!=b&&(b?e.mute():e.unMute()),null!=g&&e.seekTo(g.seconds,g.allowSeekAhead)}_getLazyEmitter(e){return this._playerChanges.pipe((0,te.w)(n=>n?R(s=>{n.addEventListener(e,s)},s=>{try{n.removeEventListener&&n.removeEventListener(e,s)}catch(o){}}):(0,S.of)()),n=>new C.y(s=>n.subscribe({next:o=>this._ngZone.run(()=>s.next(o)),error:o=>s.error(o),complete:()=>s.complete()})),k(this._destroyed))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.Lbi))},i.\u0275cmp=t.Xpm({type:i,selectors:[["youtube-player"]],viewQuery:function(e,n){if(1&e&&t.Gf(ge,5),2&e){let s;t.iGM(s=t.CRH())&&(n.youtubeContainer=s.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(e,n){1&e&&t._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),i})();function ve(i,[r,e,n]){if(i&&e&&i.playerVars!==e.playerVars)i.destroy();else{if(!e)return void(i&&i.destroy());if(i)return i}const s=n.runOutsideAngular(()=>new YT.Player(r,e));return s.videoId=e.videoId,s.playerVars=e.playerVars,s}function j(i){return"getPlayerStatus"in i}function M(i,r){return(0,L.z)(w(i),(0,fe.h)(([e,n])=>r(n,e)),(0,m.U)(([e])=>e))}let Ie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})(),ke=(()=>{class i{transform(e){if(h(e))return"";const n=Math.floor(e/60),s=e-60*n;return n+":"+(s>=10?s.toString():"0"+s.toString())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"minuteSeconds",type:i,pure:!0}),i})();function we(i,r){if(1&i&&(t.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col"),t._uU(3," Countdown: "),t.qZA(),t.TgZ(4,"ion-col"),t._uU(5),t.ALo(6,"minuteSeconds"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,1,e.timeout)," ")}}function Me(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-buttons")(2,"ion-button",8),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(2).onTimerStart(o)}),t._uU(3),t.qZA()()()}if(2&i){const e=r.$implicit;t.xp6(3),t.hij("",e," Minutes ")}}function Ve(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content")(1,"ion-list"),t.YNc(2,Me,4,1,"ion-item",3),t.qZA(),t.TgZ(3,"ion-grid")(4,"ion-row",4)(5,"ion-col")(6,"ion-item"),t._uU(7," Custom: "),t.qZA()(),t.TgZ(8,"ion-col"),t._UZ(9,"ion-input",5,6),t.qZA(),t.TgZ(11,"ion-col")(12,"ion-item"),t._uU(13,"min"),t.qZA()(),t.TgZ(14,"ion-col")(15,"ion-button",7),t.NdJ("click",function(){t.CHM(e);const s=t.MAs(10);return t.oxw().onTimerStart(s.value)}),t._uU(16,"Start"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.timerIntervals)}}let Ae=(()=>{class i{constructor(e){this.routerOutlet=e,this.timerIntervals=[5,10,15,30,45,60],this.start=new t.vpe,this.fadeout=new t.vpe,this.elapsed=new t.vpe,this.SECONDS_PER_MINUTE=60,this.isTimerRunning=!1,this.isTimerModalOpen=!1}ngOnInit(){}onTimerModalClick(){this.isTimerModalOpen=!0}onTimerStart(e){h(this.timeoutIntervalId)||clearInterval(this.timeoutIntervalId),this.isTimerRunning=!0,this.start.emit(Number(e)),this.timeout=Number(e)*this.SECONDS_PER_MINUTE,this.timeoutIntervalId=setInterval(()=>{this.timeout>0?this.timeout--:(clearInterval(this.timeoutIntervalId),this.elapsed.emit(),this.isTimerRunning=!1),this.timeout<=30&&this.fadeout.emit()},1e3),this.onModalDismiss()}onModalDismiss(){this.isTimerModalOpen=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.jP))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-timer"]],inputs:{timerIntervals:"timerIntervals",disabled:"disabled"},outputs:{start:"start",fadeout:"fadeout",elapsed:"elapsed"},decls:5,vars:5,consts:[["color","primary","expand","block","shape","round",3,"disabled","click"],[4,"ngIf"],[3,"isOpen","swipeToClose","presentingElement","didDismiss"],[4,"ngFor","ngForOf"],["id","player-row",1,"ion-justify-content-between"],["type","number","value","10","min","1","max","60"],["timeoutInput",""],[3,"click"],["color","dark","expand","fullwidth",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-button",0),t.NdJ("click",function(){return n.onTimerModalClick()}),t._uU(1," Timer\n"),t.qZA(),t.YNc(2,we,7,3,"ion-grid",1),t.TgZ(3,"ion-modal",2),t.NdJ("didDismiss",function(){return n.onModalDismiss()}),t.YNc(4,Ve,17,1,"ng-template"),t.qZA()),2&e&&(t.Q6J("disabled",n.disabled),t.xp6(2),t.Q6J("ngIf",n.isTimerRunning),t.xp6(1),t.Q6J("isOpen",n.isTimerModalOpen)("swipeToClose",!0)("presentingElement",n.routerOutlet.nativeEl))},directives:[l.YG,p.O5,l.jY,l.Nd,l.wI,l.ki,l.W2,l.q_,p.sg,l.Ie,l.Sm,l.pK,l.as],pipes:[ke],styles:[""]}),i})(),Ze=(()=>{class i{transform(e){if(h(e))return"";const n=Math.floor(e/3600),s=Math.floor((e-3600*n)/60),o=e-3600*n-60*s;return`${this.prependLeadingZero(n)}:${this.prependLeadingZero(s)}:${this.prependLeadingZero(o)}`}prependLeadingZero(e){return e>=10?e.toString():"0"+e.toString()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"hourMinuteSeconds",type:i,pure:!0}),i})();const Ee=["youtubePlayer"];function xe(i,r){1&i&&t._UZ(0,"ion-icon",22)}function Re(i,r){1&i&&t._UZ(0,"ion-icon",23)}let J=!1;const Le=[{path:"",component:(()=>{class i{constructor(e){this.keyValueStoreService=e,this.playerWidth=window.innerWidth,this.playerHeight=100,this.SKIP_TIME_IN_SECONDS=30,this.isVideoLoaded=!1,this.currentTime=0,this.reinitializeVolume=!1,this.isPauseButton=!1,this.hasPlayed=!1}ngOnInit(){if(!J){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),J=!0}}ngAfterViewInit(){new ResizeObserver(n=>{for(let s of n)this.playerWidth=s.contentRect.width}).observe(document.getElementById("player-row"))}ngOnDestroy(){this.videoPlayerReadySubscription.unsubscribe()}get RemainingTime(){return h(this.youtubePlayer)?0:Math.round(this.youtubePlayer.getDuration())-this.currentTime}get Progress(){return h(this.youtubePlayer)?0:this.youtubePlayer.getCurrentTime()/this.youtubePlayer.getDuration()}get Buffer(){return h(this.youtubePlayer)?0:this.youtubePlayer.getVideoLoadedFraction()}onOpen(e){return(0,v.mG)(this,void 0,void 0,function*(){this.isVideoLoaded=!1,this.hasPlayed=!1;const n=this.keyValueStoreService.get(e);n&&(this.startSeconds=n),this.videoId=e,this.videoPlayerReadySubscription=this.youtubePlayer.ready.subscribe(()=>(0,v.mG)(this,void 0,void 0,function*(){this.isVideoLoaded=!0}))})}onScrubberClick(e){this.youtubePlayer.seekTo(this.youtubePlayer.getDuration()*e,!0),this.isPauseButton||this.onPlay()}onPlayOrPause(){return(0,v.mG)(this,void 0,void 0,function*(){this.isPauseButton?this.onPause():yield this.onPlay()})}onPlay(){return(0,v.mG)(this,void 0,void 0,function*(){h(this.videoPlayerIntervalId)||clearInterval(this.videoPlayerIntervalId),this.youtubePlayer.playVideo(),this.hasPlayed=!0,this.reinitializeVolume?this.youtubePlayer.setVolume(this.initialVolume):this.initialVolume=this.youtubePlayer.getVolume(),this.videoPlayerIntervalId=setInterval(()=>{this.currentTime=Math.round(this.youtubePlayer.getCurrentTime()),this.keyValueStoreService.set(this.videoId,this.currentTime)},1e3),this.isPauseButton=!this.isPauseButton})}onPause(){this.youtubePlayer.pauseVideo(),this.keyValueStoreService.set(this.videoId,Math.round(this.youtubePlayer.getCurrentTime())),h(this.videoPlayerIntervalId)||clearInterval(this.videoPlayerIntervalId),this.isPauseButton=!this.isPauseButton}onSkipForward(){this.youtubePlayer.seekTo(Math.round(Number(this.keyValueStoreService.get(this.videoId)))+this.SKIP_TIME_IN_SECONDS,!0)}onSkipBackward(){this.youtubePlayer.seekTo(Math.round(Number(this.keyValueStoreService.get(this.videoId)))-this.SKIP_TIME_IN_SECONDS,!0)}onTimerStart(){this.isPauseButton||this.onPlay()}onTimerFadeOut(){const n=this.initialVolume/30;this.youtubePlayer.setVolume(this.youtubePlayer.getVolume()-n)}onTimerElapsed(){this.onPause(),this.keyValueStoreService.set(this.videoId,Math.round(this.keyValueStoreService.get(this.videoId)-15)),this.reinitializeVolume=!0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-player"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ee,5),2&e){let s;t.iGM(s=t.CRH())&&(n.youtubePlayer=s.first)}},decls:45,vars:26,consts:[[3,"translucent"],["type","text","placeholder","Enter Youtube Id","value","0Ddvxf9wM3o"],["videoIdInput",""],["color","primary",3,"disabled","click"],[3,"fullscreen"],[3,"src"],[1,"ion-justify-content-between"],[1,"font-size-sm"],[1,"font-size-sm","ion-text-end"],[3,"value","buffer","disabled","clicked"],["id","player-row",1,"ion-justify-content-center",3,"hidden"],["suggestedQuality","highres",3,"videoId","width","height","startSeconds"],["youtubePlayer",""],["id","player-row",1,"ion-justify-content-between","ion-align-items-center"],["color","primary","expand","block","shape","round",3,"disabled","click"],["name","chevron-back-outline"],["color","primary","expand","block","shape","round","size","large",3,"disabled","click"],["name","play-outline",4,"ngIf"],["name","pause-outline",4,"ngIf"],["name","chevron-forward-outline"],[3,"disabled","start","elapsed","fadeout"],["timer",""],["name","play-outline"],["name","pause-outline"]],template:function(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3," SleepyTube "),t.qZA()(),t.TgZ(4,"ion-toolbar")(5,"ion-buttons"),t._UZ(6,"ion-input",1,2),t.TgZ(8,"ion-button",3),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(7);return n.onOpen(u.value)}),t._uU(9," Open "),t.qZA()()()(),t.TgZ(10,"ion-content",4)(11,"ion-grid")(12,"ion-row")(13,"ion-col"),t._UZ(14,"ion-img",5),t.qZA()(),t.TgZ(15,"ion-row",6)(16,"ion-col",7),t._uU(17),t.ALo(18,"hourMinuteSeconds"),t.qZA(),t.TgZ(19,"ion-col",8),t._uU(20),t.ALo(21,"hourMinuteSeconds"),t.qZA()(),t.TgZ(22,"ion-row")(23,"ion-col")(24,"app-scrubber",9),t.NdJ("clicked",function(u){return n.onScrubberClick(u)}),t.qZA()()(),t.TgZ(25,"ion-row",10),t._UZ(26,"youtube-player",11,12),t.qZA(),t.TgZ(28,"ion-row",13)(29,"ion-col")(30,"ion-button",14),t.NdJ("click",function(){return n.onSkipBackward()}),t._UZ(31,"ion-icon",15),t._uU(32),t.qZA()(),t.TgZ(33,"ion-col")(34,"ion-button",16),t.NdJ("click",function(){return n.onPlayOrPause()}),t.YNc(35,xe,1,0,"ion-icon",17),t.YNc(36,Re,1,0,"ion-icon",18),t.qZA()(),t.TgZ(37,"ion-col")(38,"ion-button",14),t.NdJ("click",function(){return n.onSkipForward()}),t._uU(39),t._UZ(40,"ion-icon",19),t.qZA()()(),t.TgZ(41,"ion-row")(42,"ion-col")(43,"app-timer",20,21),t.NdJ("start",function(){return n.onTimerStart()})("elapsed",function(){return n.onTimerElapsed()})("fadeout",function(){return n.onTimerFadeOut()}),t.qZA()()()()()}if(2&e){const s=t.MAs(7);t.Q6J("translucent",!0),t.xp6(8),t.Q6J("disabled",s.value===n.videoId),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(4),t.MGl("src","https://img.youtube.com/vi/",n.videoId,"/hqdefault.jpg"),t.xp6(3),t.hij(" elapsed: ",t.lcZ(18,22,n.currentTime)," "),t.xp6(3),t.hij(" remaining: ",t.lcZ(21,24,n.RemainingTime)," "),t.xp6(4),t.Q6J("value",n.Progress)("buffer",n.Buffer)("disabled",!n.isVideoLoaded),t.xp6(1),t.Q6J("hidden",!0),t.xp6(1),t.Q6J("videoId",n.videoId)("width",n.playerWidth)("height",n.playerHeight)("startSeconds",n.startSeconds),t.xp6(4),t.Q6J("disabled",!n.isVideoLoaded||!n.hasPlayed),t.xp6(2),t.hij(" ",n.SKIP_TIME_IN_SECONDS,"s "),t.xp6(2),t.Q6J("disabled",!n.isVideoLoaded),t.xp6(1),t.Q6J("ngIf",!n.isPauseButton),t.xp6(1),t.Q6J("ngIf",n.isPauseButton),t.xp6(2),t.Q6J("disabled",!n.isVideoLoaded||!n.hasPlayed),t.xp6(1),t.hij(" ",n.SKIP_TIME_IN_SECONDS,"s "),t.xp6(4),t.Q6J("disabled",!n.isVideoLoaded)}},directives:[l.Gu,l.sr,l.wd,l.Sm,l.pK,l.j9,l.YG,l.W2,l.jY,l.Nd,l.wI,l.Xz,W,D,l.gu,p.O5,Ae],pipes:[Ze],styles:[".font-size-sm[_ngcontent-%COMP%]{font-size:.8rem}"]}),i})()}];let Oe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[{provide:p.S$,useClass:p.Do}],imports:[[T.Bz.forChild(Le)],T.Bz]}),i})(),Ne=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.ez,E.u5,l.Pc,T.Bz]]}),i})(),Ue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.ez,E.u5,l.Pc,Ne,Oe,Ie]]}),i})()}}]);